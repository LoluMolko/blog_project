<h1>List of articles</h1>
<h2><%= link_to 'Add an article', new_article_path %></h2>
<p><%= render 'tags' %></p>
<table class="table">
  <thead>
    <tr>
      <th>Id</th>
      <th>Title</th>
      <th>Text</th>
      <th>Author</th>
      <th>Tags</th>
      <th>Comments</th>
      <th>Likes</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <% @articles.each do |article| %>
    <tr>
      <td><%= article.id %></td>
      <td><%= article.title %></td>
      <td><%= article.text %></td>
      <td><%= article.author.email %></td>
      <td><%= article.tags.join(", ") %></td>
      <td><%= article.comments.count %> </td>
      <td><%= article.likes.count %> </td>
      <td><%= link_to 'Show', article_path(article), class: "btn btn-info" %></td>
      <% if article.author == current_user %>
        <td><%= link_to 'Edit', edit_article_path(article), class: "btn btn-warning" %></td>
        <td><%= link_to 'Destroy', article_path(article),
              class: "btn btn-danger",
              method: :delete,
              data: { confirm: 'Are you sure?' } %></td>
      <% else %>
        <td></td>
        <td></td>
      <% end %>
    </tr>
    <% end %>
  <tbody>
</table>

<%= paginate @articles %>
